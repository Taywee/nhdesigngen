<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
  </head>
  <link href="main.css" rel="stylesheet">
  <body>
    <h1>Animal Crossing: New Horizons Design Generator</h1>
    <a href="https://gitlab.com/Taywee/nhdesigngen">This is free software.  The
      source code is available, and you may feel free to make changes and pull
      requests.  The repository might also have more detailed and up-to-date
      information in the future, but for now, I haven't filled out much of the
      README or other documentation yet.</a>
    <p>I am not a web developer, so please let me know if you are and there is
    anything here that you would like to help with, or that I can easily
    fix.</p>
    <h2>How do I use this?</h2>
    <ol>
      <li>First, you must have resized the images you want to use yourself ahead of time using something like <a href="https://www.gimp.org/">The GIMP</a> or Photoshop.  This will not resize images for you, but that feature will come soon.  Regular design sizes are 32x32.  Also make sure, if you are using Pro designs, that you are using images without any transparent colors, as transparent colors will not work with Pro designs.</li>
      <li>Select one or more palette images to generate the palette.  You may select more than one here to ensure you can maintain a constant palette for Pro designs.</li>
      <li>Select the image you want to load.</li>
      <li>The design should now be generated in the table below.</li>
      <li>Tweak the Optimizer and Ditherer settings until it looks good enough.  <a href="https://docs.rs/exoquant/0.2.0/exoquant/optimizer/index.html">Some optimizer details can be found here</a> and <a href="https://docs.rs/exoquant/0.2.0/exoquant/ditherer/index.html">Some ditherer details can be found here</a> and the difference between the Floyd-Steinberg variants can be found <a href="https://docs.rs/exoquant/0.2.0/exoquant/ditherer/struct.FloydSteinberg.html">here</a></li>
      <li>Go into the palette color editor and edit each individual palette color.  The Hue, Saturation, and Value sliders are numbered from 1 from the left.</li>
      <li>Fill out the pixels.  If you are doing a pro palette, make sure you have used all the images you want to use to generate the palette, and load your next image.  Feel free to tweak the ditherer, but do not touch the optimizer setting, because the palette may not be changed for different parts of a Pro design.</li>
    </ol>
    <h2>Why not just use the QR code generating ones? Isn't this tedious?</h2>
    <p>This is extraordinarily tedious.  This tool exists because Animal
    Crossing: New Horizons has a fully-customizable palette, and Animal
    Crossing: New Leaf did not.  Unfortunately, the QR codes only support the
    older palettes with limited colors, so the only way to get the full color
    fidelity that New Horizons makes possible is to tweak the palette and put
    pixels in individually.  At least unless Nintendo updates Animal Crossing:
    New Horizons to support any method of sharing full-fidelity patterns without
    going through their servers.</p>
    <h2>Palette</h2>
    <label for="optimizer">Palette Optimizer</label>
    <select id="optimizer">
      <option value="kmeans" selected>K-Means</option>
      <option value="weightedkmeans">Weighted K-Means</option>
    </select>
    <br>
    <label for="loadpalette">Load Palette Image(s)</label>
    <input type="file" id="loadpalette" multiple />
    <br>
    <table id="palette"></table>
    <h2>Image</h2>
    <label for="ditherer">Ditherer</label>
    <select id="ditherer">
      <option value="none" selected>None</option>
      <option value="floydsteinberg">Floyd Steinberg</option>
      <option value="floydsteinbergvanilla">Floyd Steinberg Vanilla</option>
      <option value="floydsteinbergcheckered">Floyd Steinberg Checkered</option>
      <option value="ordered">2x2 Ordered</option>
    </select>
    <br>
    <label for="loadimage">Load Image</label>
    <input type="file" id="loadimage" />
    <br>
    <table id="design"></table>
    <script type="module" src="main.js"></script>
  </body>
</html>
